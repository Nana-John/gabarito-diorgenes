<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cartão de Respostas</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Roboto', sans-serif;
    background: #1e293b;
    margin: 0;
    padding: 0;
    color: #f5f5f5;
}
.container {
    max-width: 900px;
    margin: 20px auto;
    padding: 20px;
    background: #2d3748;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}
h1 {
    text-align: center;
    color: #ffa726;
    font-weight: 700;
    margin-bottom: 20px;
}
textarea {
    width: 100%;
    height: 100px;
    margin-bottom: 15px;
    padding: 10px;
    border: 2px solid #ffa726;
    border-radius: 8px;
    font-size: 14px;
    background: #1e293b;
    color: #f5f5f5;
}
button {
    padding: 10px 20px;
    background-color: #ffa726;
    color: #1e293b;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 700;
    transition: background 0.3s;
    margin-right: 10px;
}
button:hover {
    background-color: #ff9800;
}
#card {
    margin-top: 20px;
}
.question {
    display: flex;
    flex-direction: column;
    margin-bottom: 15px;
    padding: 10px;
    background: #374151;
    border-radius: 8px;
}
.question.correct {
    border: 2px solid #4caf50;
}
.question.incorrect {
    border: 2px solid #f44336;
}
.answers {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 8px;
}
select {
    padding: 5px;
    border: 2px solid #ffa726;
    border-radius: 5px;
    background: #1e293b;
    color: #f5f5f5;
}
label {
    display: flex;
    align-items: center;
    gap: 5px;
}
input[type="radio"] {
    accent-color: #ffa726;
}
.result {
    margin-top: 20px;
    padding: 15px;
    background: #2d3748;
    color: #ffa726;
    font-weight: 700;
    border-radius: 8px;
    text-align: center;
}
</style>
</head>
<body>
<div class="container">
<h1>Cartão de Respostas</h1>
<textarea id="answersInput" placeholder="Cole as respostas no formato: 1 E 2 B 3 D ..."></textarea>
<button id="generate">Gerar Cartão</button>
<button id="finish" style="display:none;">Finalizar</button>
<div id="card"></div>
<div id="result" class="result" style="display:none;"></div>
</div>

<script>
document.getElementById('generate').addEventListener('click', () => {
    const inputText = document.getElementById('answersInput').value.trim();
    const regex = /(\d+)\s+([A-E])/g; // Detecta números seguidos de letras (respostas).
    const matches = [...inputText.matchAll(regex)];

    if (!matches.length) {
    alert("Insira as respostas no formato correto, ex.: 1 E 2 B 3 D ...");
    return;
    }

    const totalQuestions = parseInt(matches[matches.length - 1][1]);
    const correctAnswers = {};
    matches.forEach(match => {
    correctAnswers[match[1]] = match[2]; // Número da questão: Resposta.
    });

    const card = document.getElementById('card');
    card.innerHTML = '';
    document.getElementById('finish').style.display = 'inline-block';

    // Gerar questões
    for (let i = 1; i <= totalQuestions; i++) {
    const question = document.createElement('div');
    question.className = 'question';
    question.dataset.question = i;

    const correctAnswer = correctAnswers[i] || 'N/A';

    question.innerHTML = `
        <strong>Questão ${i}:</strong>
        <div class="answers">
        ${['A', 'B', 'C', 'D', 'E']
            .map(
            letter => `
            <label>
                <input type="radio" name="question-${i}" value="${letter}">
                ${letter}
            </label>
            `
            )
            .join('')}
        <select>
            <option value="">Selecione</option>
            <option value="?">?</option>
            <option value="º">º</option>
            <option value="Chute">Chute</option>
        </select>
        </div>
    `;

    card.appendChild(question);
    }

    document.getElementById('finish').addEventListener('click', () => {
    const questions = document.querySelectorAll('.question');
    let correctCount = 0;

    questions.forEach(question => {
        const questionNumber = question.dataset.question;
        const selectedAnswer = question.querySelector('input[type="radio"]:checked')?.value;
        const correctAnswer = correctAnswers[questionNumber];

        if (selectedAnswer === correctAnswer) {
        question.classList.add('correct');
        correctCount++;
        } else {
        question.classList.add('incorrect');
        }
    });

    const result = document.getElementById('result');
    result.innerText = `Você acertou ${correctCount} de ${totalQuestions} questões!`;
    result.style.display = 'block';
    });
});
</script>
</body>
</html>
